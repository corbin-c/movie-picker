(this["webpackJsonpmovie-picker"]=this["webpackJsonpmovie-picker"]||[]).push([[0],{28:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},46:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),s=n(20),a=n.n(s),i=n(2),l=(n(42),n(21)),o=n(3),u=function(e,t){switch(t.type){case"lists/awards":return Object(o.a)(Object(o.a)({},e),{},{awards:t.payload});case"lists/genres":return Object(o.a)(Object(o.a)({},e),{},{genres:t.payload});default:return e}},d=n(14),j=n(15),b=function(e,t){var n=t.type.split("/")[1],r=t.type.split("/")[2];if(["awards","genres"].includes(n)){if("add"===r)return Object(o.a)(Object(o.a)({},e),{},Object(d.a)({},n,[].concat(Object(j.a)(e[n]),[t.payload])));if("remove"===r)return Object(o.a)(Object(o.a)({},e),{},Object(d.a)({},n,e[n].filter((function(e){return e!==t.payload}))))}else if(["persons","sort"].includes(n))return Object(o.a)(Object(o.a)({},e),{},Object(d.a)({},n,Object(o.a)(Object(o.a)({},e[n]),{},Object(d.a)({},r,t.payload))));return"set"===r?Object(o.a)(Object(o.a)({},e),{},Object(d.a)({},n,t.payload)):e},h=function(e,t){switch(t.type){case"movies/update":var n=e.results.map((function(e){return e.id===t.payload.id&&(e[t.payload.property]=t.payload.value),e}));return Object(o.a)(Object(o.a)({},e),{},{results:n});case"movies/nextPage":return Object(o.a)(Object(o.a)({},e),{},{results:[].concat(Object(j.a)(e.results),Object(j.a)(t.payload))});case"movies/setResults":return Object(o.a)(Object(o.a)({},e),{},{results:t.payload});case"movies/setBody":return Object(o.a)(Object(o.a)({},e),{},{body:t.payload});default:return e}},f={filters:{dates:{start:1900,end:parseInt((new Date).getFullYear())},rating:{start:0,end:10},runtime:{start:5,end:240},genres:[],persons:{p0:{name:"",id:""},p1:{name:"",id:""}},awards:[],sort:{key:"",direction:""},plot:""},lists:{awards:[],genres:[]},movies:{body:{},results:[]}};var p=Object(l.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;return t.reset&&(e=Object(o.a)(Object(o.a)({},e),{},{filters:f.filters,movies:f.movies})),{filters:b(e.filters,t),movies:h(e.movies,t),lists:u(e.lists,t)}})),x=n(9),m=n(7),O=(n(43),n(0));var v=function(e){return Object(O.jsxs)("footer",{children:[Object(O.jsx)("p",{children:"Created & developed by Cl\xe9ment Corbin"}),Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:Object(O.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.twitter.com/clem_corbin",title:"Follow on Twitter",children:"Follow on Twitter"})}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.linkedin.com/in/clement-corbin/",title:"Connect on LinkedIn",children:"Connect on LinkedIn"})}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/corbin-c",title:"Code on GitHub",children:"Code on Github"})})]}),Object(O.jsx)("h3",{children:"Disclaimer"}),Object(O.jsxs)("p",{className:"disclaimer",children:["This website exposes data from ",Object(O.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.imdb.com/",title:"IMDB website",children:"the Internet Movie DataBase (IMDB)"}),". All our bases are belong to them."]}),Object(O.jsx)("p",{className:"disclaimer",children:"It does not intent to become a competitor of IMDB nor has commercial purpose: It only has experimental and learning purpose."}),Object(O.jsx)("p",{className:"disclaimer",children:"This website basically acts like a proxy to provide a better browsing & movie discovery experience and does not store IMDB or user data in any way."}),Object(O.jsx)("p",{className:"disclaimer",children:"All displayed information remains the intellectual property of IMDB or their legal owner."})]})},w=n(5),g=n(4),y=n.n(g),k=n(8);var C=function(e){var t=e.path,n=e.placeHolder,c=e.handleChanges,s=e.z,a=e.formId,l=Object(i.c)((function(e){try{return e=e.filters[a.split("/")[0]][a.split("/")[1]]}catch(t){return{name:"",id:""}}}))||{name:"",id:""},o=Object(r.useState)(""),u=Object(w.a)(o,2),d=u[0],j=u[1],b=Object(r.useState)([]),h=Object(w.a)(b,2),f=h[0],p=h[1],x=Object(r.useRef)(null),m=function(e,t){p([]),c({name:e,id:t,source:a})},v=function(){var e=Object(k.a)(y.a.mark((function e(n){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>0)){e.next=10;break}return e.next=3,fetch(t.root+n+t.type);case 3:return r=e.sent,e.next=6,r.json();case 6:r=e.sent,p(r),e.next=11;break;case 10:p([]);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e){v(e)};return Object(r.useEffect)((function(){j(l.name)}),[j,l.name]),Object(O.jsxs)("div",{className:"relative w-full",children:[Object(O.jsx)("button",{title:"Clear search",className:(""!==d?"flex":"hidden")+" cursor-pointer absolute top-2.5 text-2xl text-red-900 right-4 rounded-full bg-red-200 h-5 w-5 items-center justify-center",onClick:function(){j(""),p([]),c({name:"",id:"",source:a})},children:"\xd7"}),Object(O.jsx)("input",{onChange:function(e){j(e.target.value),clearTimeout(x.current),x.current=setTimeout((function(){g(e.target.value)}),1e3)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),clearTimeout(x.current),g(e.target.value),f.length>0&&c({name:f[0].l,id:f[0].id,source:a}))},type:"text",value:d,className:"textInput",placeholder:n}),Object(O.jsx)("ul",{tabIndex:"1",className:(0===f.length?"empty hidden ":"")+"z-"+(40+(10*s||0))+" bottom-0 w-auto rounded-b-lg absolute left-0 right-0 overflow-hidden mx-2 border-2 border-solid border-red-700 border-t-0",children:f.map((function(e,t){return Object(O.jsxs)("li",{className:"hidden group h-8 even:bg-red-100 hover:bg-red-700 hover:text-yellow-50 text-red-900 pl-3 bg-red-200 cursor-pointer flex items-center justify-between",onClick:function(){return m(e.l,e.id)},children:[e.l,Object(O.jsxs)("span",{className:"hidden md:inline text-xs pr-3 text-red-700 group-hover:text-red-50",children:[" ",e.s," "]})]},e.id)}))})]})};n(46);var z=function(){var e=Object(m.h)().home,t=Object(m.f)(),n=Object(r.useState)(!0),c=Object(w.a)(n,2),s=c[0],a=c[1];return Object(O.jsxs)("section",{id:"home",className:("undefined"!==typeof e?"hidden ":"flex ")+(s?"":"closing"),children:[Object(O.jsxs)("header",{children:[Object(O.jsx)("h1",{children:"explore"}),Object(O.jsx)("h1",{children:"discover"}),Object(O.jsx)("h1",{children:"pick"})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{children:"Feel like you watching a movie but don't know which one?"}),Object(O.jsx)("p",{children:"This web app is here to help you! You can start a search below:"}),Object(O.jsx)(C,{formId:"",placeHolder:"Citizen Kane, Orson Welles\u2026",handleChanges:function(e){var n="tt"===e.id.slice(0,2)?"/movie/":"/person/";t.push(n+e.id,{from:"/"})},path:{root:"http://localhost:8080/imdb/search/",type:""}}),Object(O.jsx)("p",{children:Object(O.jsx)("a",{onClick:function(e){console.log("togrid"),e.preventDefault(),a((function(e){return!1})),setTimeout((function(){a((function(e){return!0})),t.push("/grid/")}),1300)},title:"explore movies by browsing a grid view",href:"/grid/",children:"\u2026or just explore the grid"})})]}),Object(O.jsxs)("footer",{children:[Object(O.jsx)("svg",{className:"fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Object(O.jsx)("path",{fillRule:"evenodd",d:"M24 5.25a.75.75 0 00-1.136-.643L16.5 8.425V6.25a1.75 1.75 0 00-1.75-1.75h-13A1.75 1.75 0 000 6.25v11C0 18.216.784 19 1.75 19h13a1.75 1.75 0 001.75-1.75v-2.175l6.364 3.818A.75.75 0 0024 18.25v-13zm-7.5 8.075l6 3.6V6.575l-6 3.6v3.15zM15 9.75v-3.5a.25.25 0 00-.25-.25h-13a.25.25 0 00-.25.25v11c0 .138.112.25.25.25h13a.25.25 0 00.25-.25v-7.5z"})}),Object(O.jsx)("h1",{children:"Movie Picker"}),Object(O.jsx)("p",{children:"find a good movie to watch. simply."})]})]})};n(50);var M=function(e){var t=Object(i.b)(),n=Object(i.c)((function(e){return e.filters.sort.key}))||"moviemeter",r=Object(i.c)((function(e){return e.filters.sort.direction}))||"asc",c=e.view;return Object(O.jsxs)("fieldset",{id:"sorter",className:(c?"sortVisible":"")+" z-10 bg-yellow-50 text-red-900 w-screen transform-gpu translate-y-full fixed bottom-0 lg:bottom-auto h-26 lg:h-13 pr-16 lg:top-0 left-0 flex flex-col lg:flex-row justify-around lg:justify-end items-center",children:[Object(O.jsx)("label",{className:"lg:pr-4 text-xl lg:flex-grow lg:text-right",htmlFor:"sortKey",children:"Sort by\u2026"}),Object(O.jsxs)("select",{value:n,id:"sortKey",name:"key",onChange:function(e){t({type:"filters/sort/key",payload:e.target.value})},children:[Object(O.jsx)("option",{value:"moviemeter",children:"popularity"}),Object(O.jsx)("option",{value:"alpha",children:"alphabetical order"}),Object(O.jsx)("option",{value:"num_votes",children:"number of votes"}),Object(O.jsx)("option",{value:"boxoffice_gross_us",children:"US gross box-office"}),Object(O.jsx)("option",{value:"runtime",children:"runtime"}),Object(O.jsx)("option",{value:"user_rating",children:"user rating"}),Object(O.jsx)("option",{value:"year",children:"release year"})]}),Object(O.jsxs)("select",{value:r,name:"direction",onChange:function(e){t({type:"filters/sort/direction",payload:e.target.value})},children:[Object(O.jsx)("option",{value:"asc",children:"ascending"}),Object(O.jsx)("option",{value:"desc",children:"descending"})]})]})};var N=function(e){var t=e.cover,n=e.title,c=e.classes,s=e.size,a=e.vw,i=e.type,l=Object(r.useState)(" blur"),o=Object(w.a)(l,2),u=o[0],d=o[1],j=Object(r.useState)(!1),b=Object(w.a)(j,2),h=b[0],f=b[1];return Object(r.useEffect)((function(){if(t)if(f((function(e){return!1})),d((function(e){return" blur"})),"small"!==s&&a>320&&t.small){var e=new Image;e.onload=function(){f((function(e){return!0})),d((function(e){return""}))},e.src=t[s]}else d((function(e){return""}))}),[t,s,a]),t&&0!==Object.keys(t).length?t.small?Object(O.jsx)("img",{className:(c||"")+u,src:h?t[s]:t.small,loading:"lazy",alt:(i?"Picture of ":"Movie poster for ")+n}):Object(O.jsx)("img",{className:c||"",loading:"lazy",src:t.big,alt:(i?"Picture of ":"Movie poster for ")+n}):null};var L=function(e){var t=e.movie,n=e.vw,r=Object(m.g)();return Object(O.jsx)(x.b,{to:{pathname:"/movie/"+t.id,state:{from:r.pathname}},title:"View details about this movie: "+t.title,children:Object(O.jsxs)("figure",{children:[Object(O.jsx)(N,{classes:"border-0 object-cover h-full w-full",cover:t.cover,size:"medium",vw:n,title:t.title}),Object(O.jsxs)("figcaption",{children:[" ",t.title+(""!==t.year?" ("+t.year+")":"")]})]})})};n(51);var S=function(e){var t=e.filtersView,n=Object(r.useState)("closed"),c=Object(w.a)(n,2),s=c[0],a=c[1],l=Object(r.useState)(!1),o=Object(w.a)(l,2),u=o[0],d=o[1],b=Object(r.useState)(!1),h=Object(w.a)(b,2),f=h[0],p=h[1],m=Object(r.useState)(!1),v=Object(w.a)(m,2),g=v[0],C=v[1],z=Object(i.c)((function(e){return e.movies.results})),M=Object(i.c)((function(e){return e.movies.body})),N=Object(i.c)((function(e){return e.filters})),S=Object(r.useRef)(null),R=Object(r.useRef)(null),B=Object(r.useRef)(null),A=Object(r.useRef)(null),V=Object(r.useRef)(N),D=V.current,E=Object(i.b)(),I=parseInt((new Date).getFullYear()),H=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),P=function(e){e.preventDefault(),E({type:"",reset:!0})},T=function(e){e[0].isIntersecting&&C(!0)},F=function(){var e=Object(k.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==z.length&&!u){e.next=2;break}return e.abrupt("return");case 2:if(!((t=z.length+1)>f)){e.next=14;break}if(M.start!==t){e.next=6;break}return e.abrupt("return");case 6:return M.start=t,d((function(e){return!0})),e.next=10,W(M);case 10:n=e.sent,E({type:"movies/setBody",payload:M}),E({type:"movies/nextPage",payload:n}),d((function(e){return!1}));case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function e(t,n){var r=Object.values(t),c=Object.values(n);if(r.length!==c.length)return!1;for(var s=0;s<r.length;s++){if("object"===typeof r[s]){if(!e(r[s],c[s]))return!1}else if(r[s]!==c[s])return!1}return!0},G=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(j.a)(new Set(Object(j.a)(t.filter((function(e){return e}))))).join(",")},W=function(){var e=Object(k.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/imdb/movies",{method:"POST",body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(e){var t={};if(1900===e.dates.start&&e.dates.end===I||0===e.dates.start||(t.date=G(e.dates.start,e.dates.end)),""!==e.plot&&(t.plot=e.plot),5===e.runtime.start&&240===e.runtime.end||(t.duration=G(e.runtime.start,240===e.runtime.end?1e3:e.runtime.end)),0===e.rating.start&&10===e.rating.end||(t.rating=G(e.rating.start,e.rating.end)),e.genres.length>0&&(t.genre=e.genres.join(",")),e.awards.length>0&&(t.awards=e.awards.join(",")),""===e.persons.p0.name&&""===e.persons.p1.name||(t.stars=G(e.persons.p0.id,e.persons.p1.id)),""!==e.sort.key||""!==e.sort.direction){var n=["",""];n[0]=""===e.sort.key?"popularity":e.sort.key,n[1]=""===e.sort.direction?"asc":e.sort.direction,t.sort=n.join(",")}return V.current=e,t.count=f||K(),E({type:"movies/setBody",payload:t}),t},K=function(){var e=1,t=[1536,1280,1024,768,640];for(var n in t)if(H>t[n]){e=6-n;break}return p(3*e),3*e},q=function(){var e=0===z.length?0:1500;clearTimeout(S.current),S.current=setTimeout(Object(k.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_(N,D)&&0!==z.length||u){e.next=7;break}return d((function(e){return!0})),e.next=4,W(U(N));case 4:t=e.sent,E({type:"movies/setResults",payload:t}),d((function(e){return!1}));case 7:case"end":return e.stop()}}),e)}))),e)};return Object(r.useEffect)((function(){g&&(F(),C((function(e){return!1})))})),Object(r.useEffect)((function(){q()}),[N]),Object(r.useEffect)((function(){t?(a((function(e){return"opening"})),setTimeout((function(){Object(j.a)(B.current.classList).includes("opening")&&a((function(e){return"open"}))}),600)):a((function(e){return"closed"}))}),[t]),Object(r.useEffect)((function(){document.title="Movie Picker",q(),A.current&&A.current.disconnect(),A.current=new IntersectionObserver(T,{rootMargin:"0px",threshold:[0,1]});var e=A.current;return e.observe(R.current),function(){e.disconnect()}}),[]),Object(O.jsxs)("section",{ref:B,className:s+" overflow-hidden w-screen",children:[Object(O.jsx)("div",{className:"min-h-screen movie-grid",children:Object.keys(M).length>1&&0===z.length&&!u?Object(O.jsx)("div",{className:"no-results p-5 text-yellow-50 text-3xl col-span-full row-span-full flex justify-around content-center items-center",children:Object(O.jsxs)("p",{children:["Sorry, no results were found. You can ",Object(O.jsx)("a",{onClick:P,title:"reset all the filters",href:"/grid/",children:"reset the filters"})," or ",Object(O.jsx)(x.b,{to:"/movie/random/",title:"random movie",children:"get a random movie!"})]})}):(Object.keys(M).length<=1||z.length,z.map((function(e){return Object(O.jsx)(L,{movie:e,vw:H},e.id)})))}),Object(O.jsx)("div",{className:(z.length<f?"hidden":"")+" h-1 mt-1",ref:R})]})};n(52);var R=function(e){var t=e.start,n=e.end,r=e.use,c=Object(i.c)((function(e){return e.filters[r]})),s=Object(i.b)(),a=function(e){var t=e.target.name,n=parseInt(e.target.value),a=Object(o.a)({},c);("start"===t&&n<=c.end||"end"===t)&&(a=Object(o.a)(Object(o.a)({},a),{},Object(d.a)({},t,n)),s({type:"filters/"+r+"/set",payload:a}))},l=function(e,r){return Object(O.jsx)("input",{type:"range",step:"1",style:r,className:"appearance-none bg-red-200 h-2 z-10 absolute top-1/3",name:e,min:"end"===e?c.start:t,max:n,value:c[e],onChange:a})},u=(n-c.start)/(n-t)*100,j="max("+u+"% - "+.0125*u+"rem, 1.26rem)",b={width:j},h={"--zi":c.start===n?20:10},f=1-(c.end-c.start)/(n-c.start),p=(c.start-t)/(n-t),x=.0125*(50-f*u),m={"--indicatorLeft":"calc("+(p*=100)+"% + "+(.0125*(100-p)-.1)+"rem","--indicatorRight":"calc("+j+" * "+f+" + "+((x+=.625*(1-f))-.1)+"rem)"};return Object(O.jsxs)("fieldset",{className:"flex flex-wrap md:flex-nowrap flex-row justify-evenly mb-5 md:mb-2",children:[Object(O.jsx)("span",{className:"w-1/2 order-1 md:w-auto flex-grow text-left md:text-center mb-2 md:mb-0 pl-2 md:pl-0 md:pr-2",children:c.start}),Object(O.jsxs)("div",{className:"w-full order-3 md:order-2 md:w-5/6 relative ranges",style:m,children:[l("start",h),l("end",b)]}),Object(O.jsx)("span",{className:"w-1/2 order-2 md:order-3 md:w-auto flex-grow text-right md:text-center mb-2 md:mb-0 pr-2 md:pr-0 md:pl-2",children:c.end})]})};var B=function(e){var t=e.placeHolder,n=e.use,c=Object(i.b)(),s=Object(r.useState)(""),a=Object(w.a)(s,2),l=a[0],o=a[1],u=Object(i.c)((function(e){return e.filters[n]})),d=Object(r.useRef)(null),j=function(e){c({type:"filters/"+n+"/set",payload:e})};return Object(r.useEffect)((function(){o(u)}),[o,u]),Object(O.jsxs)("div",{className:"relative",children:[Object(O.jsx)("button",{title:"Clear search",className:(""!==l?"flex":"hidden")+" cursor-pointer absolute top-2.5 text-2xl text-red-900 right-4 rounded-full bg-red-200 h-5 w-5 items-center justify-center",onClick:function(){o(""),j("")},children:"\xd7"}),Object(O.jsx)("input",{onChange:function(e){o(e.target.value),clearTimeout(d.current),d.current=setTimeout((function(){j(e.target.value)}),1e3)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),clearTimeout(d.current),j(e.target.value))},type:"text",value:l,className:"textInput",placeholder:t})]})};var A=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.filters.dates})),n=1900,r=parseInt((new Date).getFullYear()),c=function(){for(var e=10*Math.floor(190),t=10*Math.floor(r/10),n=[],c=e;c<=t;c+=10)n.push({text:c+"s",key:c});return n}(),s=function(e){e=Math.max(e,n);var c=Math.min(e+10,r);return t.start===e&&t.end===c};return Object(O.jsxs)("section",{children:[Object(O.jsx)(R,{use:"dates",start:n,end:r}),Object(O.jsx)("fieldset",{className:"fieldgrid",children:c.map((function(t){return Object(O.jsxs)("label",{htmlFor:t.key,className:(s(t.key)?"selected ":"")+"btn h-12 leading-10 m-1",children:[Object(O.jsx)("input",{onClick:function(){!function(t){t=Math.max(t,n);var c=Math.min(t+10,r);e({type:"filters/dates/set",payload:{start:t,end:c}})}(t.key)},name:"decades",type:"radio",id:t.key,value:t.key}),t.text]},t.key)}))})]})};var V=function(e){var t=e.source,n=Object(i.b)(),c=Object(i.c)((function(e){return e.filters[t]}))||[],s=Object(i.c)((function(e){return e.lists[t]}))||[];Object(r.useEffect)((function(){0===s.length&&Object(k.a)(y.a.mark((function e(){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/imdb/"+t);case 2:return r=e.sent,e.next=5,r.json();case 5:r=e.sent,n({type:"lists/"+t,payload:r});case 7:case"end":return e.stop()}}),e)})))()}),[s.length,t,n]);var a=function(e){var r=e.target.value,c=e.target.checked?"add":"remove";n({type:"filters/"+t+"/"+c,payload:r})};return Object(O.jsx)("fieldset",{className:"fieldgrid",children:s.map((function(e){return Object(O.jsxs)("label",{htmlFor:e,className:(c.includes(e)?"selected ":"")+"inline-block btn h-12 leading-10 m-1 capitalize",children:[Object(O.jsx)("input",{onClick:a,name:t,type:"checkbox",id:e,checked:c.includes(e),value:e}),e.replace(/_/g," ").replace(" winner","")]},e)}))})};var D=function(){var e=Object(r.useState)(1),t=Object(w.a)(e,2),n=t[0],c=t[1],s=Object(i.b)(),a=function(e){var t=e.source,n=e.name,r=e.id;"undefined"===typeof n&&(n=""),"undefined"===typeof r&&(r=""),s({type:"filters/"+t,payload:{name:n,id:r}})};return Object(O.jsxs)("fieldset",{children:[Object(O.jsxs)("div",{className:"flex items-center mb-2",children:[Object(O.jsx)(C,{z:"1",formId:"persons/p0",placeHolder:"John Doe",handleChanges:a,path:{root:"/imdb/search/",type:"/names"}}),Object(O.jsx)("button",{onClick:function(){return c(2)},title:"Add another person",className:(1===n?" ":"invisible ")+"flex cursor-pointer text-2xl mx-2 text-green-800 rounded-full bg-green-200 h-5 w-5 items-center justify-center",children:"+"})]}),2===n&&Object(O.jsxs)("div",{className:"flex items-center",children:[Object(O.jsx)(C,{formId:"persons/p1",placeHolder:"Erika Mustermann",handleChanges:a,path:{root:"/imdb/search/",type:"/names"}}),Object(O.jsx)("button",{onClick:function(){c(1),a({source:"persons/p1"})},title:"Remove this person",className:"flex cursor-pointer text-2xl mx-2 text-red-900 rounded-full bg-red-200 h-5 w-5 items-center justify-center",children:"\xd7"})]})]})};n(53);var E=function(e){var t=e.view,n=Object(i.b)();return Object(O.jsxs)("section",{id:"filters",className:(t?"filtersVisible":"")+" flex flex-col justify-between",children:[Object(O.jsx)("h1",{className:"text-center text-3xl font-bold text-red-900 mt-2 mb-4",children:"Filter movies by\u2026"}),Object(O.jsxs)("form",{className:"flex-grow",onSubmit:function(e){return e.preventDefault()},children:[Object(O.jsxs)("details",{children:[Object(O.jsx)("summary",{children:"Years"}),Object(O.jsx)(A,{})]}),Object(O.jsxs)("details",{children:[Object(O.jsx)("summary",{children:"Genres"}),Object(O.jsx)(V,{source:"genres"})]}),Object(O.jsxs)("details",{children:[Object(O.jsx)("summary",{children:"Persons"}),Object(O.jsx)(D,{})]}),Object(O.jsxs)("details",{children:[Object(O.jsx)("summary",{children:"Awards"}),Object(O.jsx)(V,{source:"awards"})]}),Object(O.jsxs)("details",{children:[Object(O.jsx)("summary",{children:"User rating"}),Object(O.jsx)(R,{use:"rating",start:0,end:10})]}),Object(O.jsxs)("details",{children:[Object(O.jsx)("summary",{children:"Runtime"}),Object(O.jsx)(R,{use:"runtime",start:5,end:240})]}),Object(O.jsxs)("details",{children:[Object(O.jsx)("summary",{children:"Plot"}),Object(O.jsx)(B,{use:"plot",placeHolder:"zombies"})]})]}),Object(O.jsx)("button",{onClick:function(){n({type:"",reset:!0})},className:"btn-icon absolute top-2 left-2 lg:left-14",title:"Clear all filters",children:Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:Object(O.jsx)("path",{d:"M3.38 8A9.502 9.502 0 0112 2.5a9.502 9.502 0 019.215 7.182.75.75 0 101.456-.364C21.473 4.539 17.15 1 12 1a10.995 10.995 0 00-9.5 5.452V4.75a.75.75 0 00-1.5 0V8.5a1 1 0 001 1h3.75a.75.75 0 000-1.5H3.38zm-.595 6.318a.75.75 0 00-1.455.364C2.527 19.461 6.85 23 12 23c4.052 0 7.592-2.191 9.5-5.451v1.701a.75.75 0 001.5 0V15.5a1 1 0 00-1-1h-3.75a.75.75 0 000 1.5h2.37A9.502 9.502 0 0112 21.5c-4.446 0-8.181-3.055-9.215-7.182z"})})}),Object(O.jsx)("h2",{className:"text-center text-xl font-bold text-red-900 mt-2 pb-4",children:Object(O.jsx)(x.b,{to:"/movie/random",title:"Get a random movie",children:"\u2026or get a random movie?"})})]})};var I=function(){var e=Object(m.h)().home,t=Object(r.useState)(!1),n=Object(w.a)(t,2),c=n[0],s=n[1],a=Object(r.useState)(!1),i=Object(w.a)(a,2),l=i[0],o=i[1];return Object(O.jsxs)("div",{className:"grid-view",children:[Object(O.jsx)("button",{onClick:function(){s((function(e){return!c}))},title:(c?"Close":"Open")+" filter panel",className:("undefined"===typeof e?"hidden ":"")+"btn-icon fixed bottom-2 lg:bottom-auto lg:right-auto right-2 lg:top-2 lg:left-2 z-40",children:Object(O.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:[Object(O.jsx)("path",{fillRule:"evenodd",d:"M16 12a4 4 0 11-8 0 4 4 0 018 0zm-1.5 0a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"}),Object(O.jsx)("path",{fillRule:"evenodd",d:"M12 1c-.268 0-.534.01-.797.028-.763.055-1.345.617-1.512 1.304l-.352 1.45c-.02.078-.09.172-.225.22a8.45 8.45 0 00-.728.303c-.13.06-.246.044-.315.002l-1.274-.776c-.604-.368-1.412-.354-1.99.147-.403.348-.78.726-1.129 1.128-.5.579-.515 1.387-.147 1.99l.776 1.275c.042.069.059.185-.002.315-.112.237-.213.48-.302.728-.05.135-.143.206-.221.225l-1.45.352c-.687.167-1.249.749-1.304 1.512a11.149 11.149 0 000 1.594c.055.763.617 1.345 1.304 1.512l1.45.352c.078.02.172.09.22.225.09.248.191.491.303.729.06.129.044.245.002.314l-.776 1.274c-.368.604-.354 1.412.147 1.99.348.403.726.78 1.128 1.129.579.5 1.387.515 1.99.147l1.275-.776c.069-.042.185-.059.315.002.237.112.48.213.728.302.135.05.206.143.225.221l.352 1.45c.167.687.749 1.249 1.512 1.303a11.125 11.125 0 001.594 0c.763-.054 1.345-.616 1.512-1.303l.352-1.45c.02-.078.09-.172.225-.22.248-.09.491-.191.729-.303.129-.06.245-.044.314-.002l1.274.776c.604.368 1.412.354 1.99-.147.403-.348.78-.726 1.129-1.128.5-.579.515-1.387.147-1.99l-.776-1.275c-.042-.069-.059-.185.002-.315.112-.237.213-.48.302-.728.05-.135.143-.206.221-.225l1.45-.352c.687-.167 1.249-.749 1.303-1.512a11.125 11.125 0 000-1.594c-.054-.763-.616-1.345-1.303-1.512l-1.45-.352c-.078-.02-.172-.09-.22-.225a8.469 8.469 0 00-.303-.728c-.06-.13-.044-.246-.002-.315l.776-1.274c.368-.604.354-1.412-.147-1.99-.348-.403-.726-.78-1.128-1.129-.579-.5-1.387-.515-1.99-.147l-1.275.776c-.069.042-.185.059-.315-.002a8.465 8.465 0 00-.728-.302c-.135-.05-.206-.143-.225-.221l-.352-1.45c-.167-.687-.749-1.249-1.512-1.304A11.149 11.149 0 0012 1zm-.69 1.525a9.648 9.648 0 011.38 0c.055.004.135.05.162.16l.351 1.45c.153.628.626 1.08 1.173 1.278.205.074.405.157.6.249a1.832 1.832 0 001.733-.074l1.275-.776c.097-.06.186-.036.228 0 .348.302.674.628.976.976.036.042.06.13 0 .228l-.776 1.274a1.832 1.832 0 00-.074 1.734c.092.195.175.395.248.6.198.547.652 1.02 1.278 1.172l1.45.353c.111.026.157.106.161.161a9.653 9.653 0 010 1.38c-.004.055-.05.135-.16.162l-1.45.351a1.833 1.833 0 00-1.278 1.173 6.926 6.926 0 01-.25.6 1.832 1.832 0 00.075 1.733l.776 1.275c.06.097.036.186 0 .228a9.555 9.555 0 01-.976.976c-.042.036-.13.06-.228 0l-1.275-.776a1.832 1.832 0 00-1.733-.074 6.926 6.926 0 01-.6.248 1.833 1.833 0 00-1.172 1.278l-.353 1.45c-.026.111-.106.157-.161.161a9.653 9.653 0 01-1.38 0c-.055-.004-.135-.05-.162-.16l-.351-1.45a1.833 1.833 0 00-1.173-1.278 6.928 6.928 0 01-.6-.25 1.832 1.832 0 00-1.734.075l-1.274.776c-.097.06-.186.036-.228 0a9.56 9.56 0 01-.976-.976c-.036-.042-.06-.13 0-.228l.776-1.275a1.832 1.832 0 00.074-1.733 6.948 6.948 0 01-.249-.6 1.833 1.833 0 00-1.277-1.172l-1.45-.353c-.111-.026-.157-.106-.161-.161a9.648 9.648 0 010-1.38c.004-.055.05-.135.16-.162l1.45-.351a1.833 1.833 0 001.278-1.173 6.95 6.95 0 01.249-.6 1.832 1.832 0 00-.074-1.734l-.776-1.274c-.06-.097-.036-.186 0-.228.302-.348.628-.674.976-.976.042-.036.13-.06.228 0l1.274.776a1.832 1.832 0 001.734.074 6.95 6.95 0 01.6-.249 1.833 1.833 0 001.172-1.277l.353-1.45c.026-.111.106-.157.161-.161z"})]})}),Object(O.jsx)("button",{onClick:function(){o((function(e){return!l}))},title:(l?"Close":"Open")+" sort panel",className:("undefined"===typeof e?"hidden ":"")+"btn-icon fixed bottom-15 lg:bottom-auto lg:top-2 right-2 ml-full transform rotate-90 scale-x-x z-20",children:Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:Object(O.jsx)("path",{d:"M7.72 21.78a.75.75 0 001.06-1.06L5.56 17.5h14.69a.75.75 0 000-1.5H5.56l3.22-3.22a.75.75 0 10-1.06-1.06l-4.5 4.5a.75.75 0 000 1.06l4.5 4.5zm8.56-9.5a.75.75 0 11-1.06-1.06L18.44 8H3.75a.75.75 0 010-1.5h14.69l-3.22-3.22a.75.75 0 011.06-1.06l4.5 4.5a.75.75 0 010 1.06l-4.5 4.5z"})})}),Object(O.jsx)(M,{view:l}),Object(O.jsx)(E,{view:c}),Object(O.jsx)(S,{filtersView:c})]})};var H=function(e){var t=e.title,n=e.trailer,c=e.handleChange,s=e.classes,a=Object(r.useRef)(null);return Object(r.useEffect)((function(){""===s&&a.current.focus()}),[n,s]),Object(O.jsxs)("div",{ref:a,onKeyDown:function(e){"Escape"===e.key&&c()},tabIndex:"1",className:s+"trailer fixed top-0 left-0 w-screen h-screen bg-opacity-80 bg-black flex justify-center items-center",children:[Object(O.jsx)("button",{title:"Close trailer",className:"btn-icon absolute top-2 right-2",onClick:c,children:Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:Object(O.jsx)("path",{fillRule:"evenodd",d:"M5.72 5.72a.75.75 0 011.06 0L12 10.94l5.22-5.22a.75.75 0 111.06 1.06L13.06 12l5.22 5.22a.75.75 0 11-1.06 1.06L12 13.06l-5.22 5.22a.75.75 0 01-1.06-1.06L10.94 12 5.72 6.78a.75.75 0 010-1.06z"})})}),n&&n.youtube&&""===s&&Object(O.jsx)("div",{className:"relative video-container",children:Object(O.jsx)("iframe",{className:"w-full h-full absolute top-0 left-0",width:"560",height:"315",src:"https://www.youtube-nocookie.com/embed/"+n.youtube+"?autoplay=1&modestbranding=1&disablekb=1&controls=0&showinfo=0",title:t+"trailer",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0})}),n&&n.imdb&&""===s&&Object(O.jsx)("video",{src:n.imdb,autoPlay:!0,controls:!0})]})};var P=function(e){var t=e.title,n=e.name,r=e.enrichedData,c=function(e){switch(e){case"wiki":return Object(O.jsx)("svg",{className:"fill-current",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"20",height:"20",viewBox:"0 0 98.05 98.05",children:Object(O.jsx)("path",{d:"M98.023,17.465l-19.584-0.056c-0.004,0.711-0.006,1.563-0.017,2.121c1.664,0.039,5.922,0.822,7.257,4.327L66.92,67.155   c-0.919-2.149-9.643-21.528-10.639-24.02l9.072-18.818c1.873-2.863,5.455-4.709,8.918-4.843l-0.01-1.968L55.42,17.489   c-0.045,0.499,0.001,1.548-0.068,2.069c5.315,0.144,7.215,1.334,5.941,4.508c-2.102,4.776-6.51,13.824-7.372,15.475   c-2.696-5.635-4.41-9.972-7.345-16.064c-1.266-2.823,1.529-3.922,4.485-4.004v-1.981l-21.82-0.067   c0.016,0.93-0.021,1.451-0.021,2.131c3.041,0.046,6.988,0.371,8.562,3.019c2.087,4.063,9.044,20.194,11.149,24.514   c-2.685,5.153-9.207,17.341-11.544,21.913c-3.348-7.43-15.732-36.689-19.232-44.241c-1.304-3.218,3.732-5.077,6.646-5.213   l0.019-2.148L0,17.398c0.005,0.646,0.027,1.71,0.029,2.187c4.025-0.037,9.908,6.573,11.588,10.683   c7.244,16.811,14.719,33.524,21.928,50.349c0.002,0.029,2.256,0.059,2.281,0.008c4.717-9.653,10.229-19.797,15.206-29.56   L63.588,80.64c0.005,0.004,2.082,0.016,2.093,0.007c7.962-18.196,19.892-46.118,23.794-54.933c1.588-3.767,4.245-6.064,8.543-6.194   l0.032-1.956L98.023,17.465z"})});case"rotten":return Object(O.jsxs)("svg",{width:"20px",height:"20px",viewBox:"0 0 80 80",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[" ",Object(O.jsxs)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[" ",Object(O.jsxs)("g",{transform:"translate(1.327801, 0.000000)",children:[" ",Object(O.jsxs)("g",{transform:"translate(0.000000, 16.265560)",children:[" ",Object(O.jsxs)("mask",{id:"mask-2",fill:"white",children:[" ",Object(O.jsx)("polygon",{id:"path-1",points:"0.000109100102 0.246970954 77.0827837 0.246970954 77.0827837 63.7145228 0.000109100102 63.7145228"})," "]})," ",Object(O.jsx)("path",{d:"M77.0137759,27.0426556 C76.2423237,14.6741909 69.9521992,5.42041494 60.4876349,0.246970954 C60.5414108,0.548381743 60.273195,0.925145228 59.9678008,0.791701245 C53.7772614,-1.91634855 43.2753527,6.84780083 35.9365975,2.25825726 C35.9917012,3.90539419 35.6700415,11.940249 24.3515353,12.4063071 C24.0843154,12.4172614 23.9372614,12.1443983 24.1062241,11.9512033 C25.619917,10.2247303 27.1482158,5.85360996 24.9507054,3.5233195 C20.2446473,7.74041494 17.5117012,9.32746888 8.48829876,7.23319502 C2.71103734,13.2740249 -0.562655602,21.5419087 0.08,31.8413278 C1.39120332,52.86639 21.0848133,64.8846473 40.9165145,63.6471369 C60.746888,62.4106224 78.3253112,48.0677178 77.0137759,27.0426556",id:"Fill-1",fill:"#FA320A",mask:"url(#mask-2)"})," "]})," ",Object(O.jsx)("path",{d:"M40.8717012,11.4648963 C44.946722,10.49361 56.6678838,11.3702905 60.4232365,16.3518672 C60.6486307,16.6506224 60.3312863,17.2159336 59.9678008,17.0572614 C53.7772614,14.3492116 43.2753527,23.113361 35.9365975,18.5238174 C35.9917012,20.1709544 35.6700415,28.2058091 24.3515353,28.6718672 C24.0843154,28.6828216 23.9372614,28.4099585 24.1062241,28.2167635 C25.619917,26.4902905 27.1478838,22.1191701 24.9507054,19.7888797 C19.8243983,24.3827386 17.0453112,25.8589212 5.91900415,22.8514523 C5.55485477,22.753195 5.67900415,22.1679668 6.06639004,22.020249 C8.16929461,21.2165975 12.933444,17.6965975 17.4406639,16.1450622 C18.2987552,15.8499585 19.1541909,15.6209129 19.9890456,15.4878008 C15.02639,15.0443154 12.7893776,14.3541909 9.63286307,14.8302075 C9.28697095,14.8823237 9.05195021,14.479668 9.26639004,14.2034855 C13.5193361,8.7253112 21.3540249,7.07087137 26.1878838,9.98107884 C23.2082988,6.28912863 20.8743568,3.34473029 20.8743568,3.34473029 L26.4046473,0.203485477 C26.4046473,0.203485477 28.6894606,5.30821577 30.3518672,9.02340249 C34.4657261,2.94506224 42.119834,2.38406639 45.3536929,6.69676349 C45.5455602,6.95302905 45.3450622,7.31751037 45.0247303,7.30987552 C42.3926971,7.24580913 40.9434025,9.63983402 40.833527,11.4605809 L40.8717012,11.4648963",id:"Fill-4",fill:"#00912D"})," "]})," "]})]});case"meta":return Object(O.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 29.4 29.7",width:"20",height:"20",children:[Object(O.jsxs)("g",{children:[Object(O.jsx)("path",{fill:"#FFCC34",d:"M29.4,14.8c0,8.2-6.7,14.9-14.9,14.9S-0.3,23-0.3,14.8C-0.3,6.7,6.3,0,14.5,0S29.4,6.7,29.4,14.8"}),Object(O.jsx)("path",{fill:"#333333",d:"M26.5,14.8c0,6.6-5.3,11.9-11.9,11.9S2.7,21.4,2.7,14.8S8,2.9,14.6,2.9   C21.1,2.9,26.5,8.2,26.5,14.8"}),Object(O.jsx)("path",{fill:"#FEFEFE",d:"M6.8,18.9c-1-1-1.9-1.9-2.7-2.6l2.2-2.2l1.2,1L7.6,15c-0.2-0.8-0.3-2.3,1.1-3.7   c1.1-1.1,2.5-1.4,3.7-0.8l0,0c-0.1-0.8-0.1-1.5,0.1-2.1c0.2-0.7,0.6-1.4,1.2-2c1.6-1.6,3.9-1.7,6.4,0.8l4.9,4.9l-2.5,2.5L18,10.1   c-1.2-1.2-2.3-1.5-3.1-0.7c-0.6,0.6-0.6,1.4-0.3,2.1c0.1,0.2,0.4,0.5,0.6,0.7l4.9,4.9l-2.5,2.5L13,15c-1-1-2.1-1.4-3-0.5   c-0.7,0.7-0.5,1.6-0.3,2.1c0.1,0.3,0.3,0.5,0.6,0.8l4.8,4.8l-2.5,2.5L6.8,18.9z"})]}),Object(O.jsxs)("g",{children:[Object(O.jsx)("path",{fill:"white",d:"M34.8,13.2c0-1.3,0-2.5-0.1-3.4h2.8l0.1,1.5h0.1c0.5-0.7,1.4-1.7,3.2-1.7c1.4,0,2.5,0.7,2.9,1.8   l0,0c0.4-0.6,0.9-1,1.4-1.3c0.6-0.3,1.3-0.5,2-0.5c2.1,0,3.6,1.4,3.6,4.7v6.3h-3.2v-5.9c0-1.6-0.5-2.5-1.6-2.5   c-0.8,0-1.3,0.5-1.6,1.2c-0.1,0.2-0.1,0.6-0.1,0.8v6.3h-3.2v-6c0-1.3-0.5-2.3-1.6-2.3c-0.9,0-1.4,0.7-1.6,1.2   c-0.1,0.3-0.1,0.6-0.1,0.9v6.2h-3.2v-7.3H34.8z"}),Object(O.jsx)("path",{fill:"white",d:"M60.2,13.9c0-0.8-0.4-2.2-1.9-2.2c-1.4,0-2,1.3-2.1,2.2H60.2z M56.3,16.2c0.1,1.4,1.5,2.1,3,2.1   c1.1,0,2.1-0.2,3-0.5l0.4,2.3c-1.1,0.5-2.4,0.7-3.9,0.7c-3.6,0-5.7-2.1-5.7-5.5c0-2.7,1.7-5.7,5.4-5.7c3.5,0,4.8,2.7,4.8,5.4   c0,0.6-0.1,1.1-0.1,1.3L56.3,16.2z"}),Object(O.jsx)("path",{fill:"white",d:"M69,6.9v2.9h2.4v2.5H69v3.9c0,1.3,0.3,1.9,1.3,1.9c0.5,0,0.7,0,1-0.1v2.5   c-0.4,0.2-1.2,0.3-2.2,0.3c-1.1,0-2-0.4-2.5-0.9c-0.6-0.7-0.9-1.7-0.9-3.2v-4.4h-1.4V9.8h1.4v-2L69,6.9z"}),Object(O.jsx)("path",{fill:"white",d:"M79,15.5c-1.8,0-3.1,0.4-3.1,1.7c0,0.9,0.6,1.3,1.3,1.3c0.8,0,1.5-0.5,1.7-1.2   c0-0.2,0.1-0.4,0.1-0.6V15.5z M82.3,18c0,1,0,2,0.2,2.6h-3l-0.2-1.1h-0.1c-0.7,0.9-1.8,1.3-3.1,1.3c-2.2,0-3.5-1.6-3.5-3.3   c0-2.8,2.5-4.1,6.3-4.1v-0.1c0-0.6-0.3-1.4-2-1.4c-1.1,0-2.3,0.4-3,0.8l-0.6-2.1c0.7-0.4,2.2-1,4.2-1c3.6,0,4.7,2.1,4.7,4.6   L82.3,18L82.3,18z"}),Object(O.jsx)("path",{fill:"white",d:"M93,20.3c-0.6,0.3-1.7,0.5-3,0.5c-3.5,0-5.7-2.1-5.7-5.5c0-3.1,2.2-5.7,6.1-5.7   c0.9,0,1.8,0.2,2.5,0.4l-0.5,2.5c-0.4-0.2-1-0.3-1.9-0.3c-1.8,0-2.9,1.3-2.9,3c0,2,1.3,3,2.9,3c0.8,0,1.4-0.1,1.9-0.4L93,20.3z"}),Object(O.jsx)("path",{fill:"white",d:"M94.8,13.3c0-1.6,0-2.6-0.1-3.5h2.9l0.1,2h0.1c0.5-1.6,1.8-2.2,2.9-2.2c0.3,0,0.5,0,0.7,0.1v3.1   c-0.3,0-0.5-0.1-0.9-0.1c-1.2,0-2.1,0.6-2.3,1.7c0,0.2-0.1,0.5-0.1,0.7v5.4h-3.3C94.8,20.5,94.8,13.3,94.8,13.3z"}),Object(O.jsx)("path",{fill:"white",d:"M103.1,20.5h3.3V9.8h-3.3V20.5z M104.8,8.4c-1.1,0-1.8-0.8-1.8-1.8s0.7-1.8,1.9-1.8   c1.1,0,1.8,0.8,1.9,1.8C106.7,7.6,105.9,8.4,104.8,8.4L104.8,8.4z"}),Object(O.jsx)("path",{fill:"white",d:"M112.9,6.9v2.9h2.4v2.5h-2.4v3.9c0,1.3,0.3,1.9,1.3,1.9c0.5,0,0.7,0,1-0.1v2.5   c-0.4,0.2-1.2,0.3-2.2,0.3c-1.1,0-2-0.4-2.5-0.9c-0.6-0.6-0.9-1.7-0.9-3.2v-4.4h-1.4V9.8h1.4v-2L112.9,6.9z"}),Object(O.jsx)("path",{fill:"white",d:"M117.2,20.5h3.3V9.8h-3.3V20.5z M118.8,8.4c-1.1,0-1.8-0.8-1.8-1.8s0.7-1.8,1.9-1.8   c1.1,0,1.8,0.8,1.9,1.8C120.7,7.6,120,8.4,118.8,8.4L118.8,8.4z"}),Object(O.jsx)("path",{fill:"white",d:"M131.2,20.3c-0.6,0.3-1.7,0.5-3,0.5c-3.5,0-5.7-2.1-5.7-5.5c0-3.1,2.2-5.7,6.1-5.7   c0.9,0,1.8,0.2,2.5,0.4l-0.5,2.5c-0.4-0.2-1-0.3-1.9-0.3c-1.8,0-2.9,1.3-2.9,3c0,2,1.3,3,2.9,3c0.8,0,1.4-0.1,1.9-0.4L131.2,20.3z"})]})]});default:return null}},s={wiki:{base:"https://en.wikipedia.org/wiki/",name:"Wikipedia"},rotten:{base:"https://www.rottentomatoes.com/",name:"Rotten Tomatoes"},meta:{base:"https://www.metacritic.com/",name:"Metacritic"}};return r?Object.keys(r).filter((function(e){return"undefined"!==typeof s[e]})).map((function(e){return Object(O.jsxs)("a",{className:e,href:s[e].base+r[e],target:"_blank",rel:"noopener noreferrer",title:"Search for "+(t||n)+" on "+s[e].name,children:[c(e)," ",s[e].name]},e)})):null};var T=function(e){var t=e.title,n=function(e){switch(e){case"amazon":return Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 1100 1000",children:Object(O.jsx)("path",{fill:"#f79400",d:"M2 776c3.333-5.333 8.666-5.667 16-1 166.666 96.667 348 145 544 145 130.666 0 259.666-24.333 387-73 3.333-1.333 8.166-3.333 14.5-6 6.333-2.667 10.833-4.667 13.5-6 10-4 17.833-2 23.5 6 5.666 8 3.833 15.333-5.5 22-12 8.667-27.334 18.667-46 30-57.334 34-121.334 60.333-192 79-70.667 18.667-139.667 28-207 28-104 0-202.334-18.167-295-54.5C162.333 909.167 79.333 858 6 792c-4-3.333-6-6.667-6-10 0-2 .666-4 2-6zm301-285c0-46 11.333-85.333 34-118 22.666-32.667 53.666-57.333 93-74 36-15.333 80.333-26.333 133-33 18-2 47.333-4.667 88-8v-17c0-42.667-4.667-71.333-14-86-14-20-36-30-66-30h-8c-22 2-41 9-57 21s-26.334 28.667-31 50c-2.667 13.333-9.334 21-20 23l-115-14c-11.334-2.667-17-8.667-17-18 0-2 .333-4.333 1-7 11.333-59.333 39.166-103.333 83.5-132C451.833 19.333 503.666 3.333 563 0h25c76 0 135.333 19.667 178 59a190.52 190.52 0 0 1 18.5 21.5c5.666 7.667 10.166 14.5 13.5 20.5 3.333 6 6.333 14.667 9 26 2.666 11.333 4.666 19.167 6 23.5 1.333 4.333 2.333 13.667 3 28 .666 14.333 1 22.833 1 25.5v242c0 17.333 2.5 33.167 7.5 47.5s9.833 24.667 14.5 31c4.666 6.333 12.333 16.5 23 30.5 4 6 6 11.333 6 16 0 5.333-2.667 10-8 14-55.334 48-85.334 74-90 78-8 6-17.667 6.667-29 2-9.334-8-17.5-15.667-24.5-23s-12-12.667-15-16-7.834-9.833-14.5-19.5c-6.667-9.667-11.334-16.167-14-19.5-37.334 40.667-74 66-110 76-22.667 6.667-50.667 10-84 10-51.334 0-93.5-15.833-126.5-47.5S303 549 303 491zm172-20c0 26 6.5 46.833 19.5 62.5S525 557 547 557c2 0 4.833-.333 8.5-1 3.666-.667 6.166-1 7.5-1 28-7.333 49.666-25.333 65-54 7.333-12.667 12.833-26.5 16.5-41.5 3.666-15 5.666-27.167 6-36.5.333-9.333.5-24.667.5-46v-25c-38.667 0-68 2.667-88 8-58.667 16.667-88 53.667-88 111zm420 322c1.333-2.667 3.333-5.333 6-8 16.666-11.333 32.666-19 48-23 25.333-6.667 50-10.333 74-11 6.666-.667 13-.333 19 1 30 2.667 48 7.667 54 15 2.666 4 4 10 4 18v7c0 23.333-6.334 50.833-19 82.5-12.667 31.667-30.334 57.167-53 76.5-3.334 2.667-6.334 4-9 4-1.334 0-2.667-.333-4-1-4-2-5-5.667-3-11 24.666-58 37-98.333 37-121 0-7.333-1.334-12.667-4-16-6.667-8-25.334-12-56-12-11.334 0-24.667.667-40 2-16.667 2-32 4-46 6-4 0-6.667-.667-8-2-1.334-1.333-1.667-2.667-1-4 0-.667.333-1.667 1-3z"})});case"netflix":return Object(O.jsx)("svg",{width:"20",height:"20",viewBox:"66.827 90.186 451.865 819.903",xmlns:"http://www.w3.org/2000/svg",children:Object(O.jsxs)("g",{clipRule:"evenodd",fillRule:"evenodd",children:[Object(O.jsx)("path",{d:"m66.827 90.294v409.464c0 225.219.214 409.683.539 410.007.324.324 14.239-1.076 31.067-2.912 16.828-1.833 40.019-4.203 51.562-5.175 17.69-1.509 70.762-4.85 76.804-4.958 1.833 0 1.94-9.163 2.157-173.468l.322-173.062-.106-.299v.216z",fill:"#b1060f"}),Object(O.jsx)("path",{d:"m66.827 90.294 162.265 553.358.184-93.461-.106-.298v.215z",fill:"#9d030f"}),Object(O.jsx)("path",{d:"m357.535 90.834-.324 181.122-.323 181.016 160.94 456.686c-.092.092-.518.139-1.213.148.804 0 1.302-.047 1.429-.148.54-.433.648-184.789.54-409.792l-.324-409.032z",fill:"#b1060f"}),Object(O.jsx)("path",{d:"m356.888 452.972 154.06 437.165-153.889-528.716z",fill:"#9d030f"}),Object(O.jsx)("path",{d:"m66.827 90.294 162.343 459.814v-.216l12.837 36.226c71.302 201.714 109.595 309.955 109.811 310.171.108.107 10.896.756 23.946 1.4 39.481 1.94 88.452 6.146 125.669 10.78 8.521 1.08 15.964 1.62 16.396 1.188l-160.94-456.688v.108l-14.889-42.044c-14.563-41.077-24.27-68.569-82.843-233.951-15.748-44.526-29.125-82.152-29.663-83.877l-1.08-3.019h-80.794z",fill:"#e50914"})]})});case"googleplay":return Object(O.jsxs)("svg",{height:"20",viewBox:"0 -0.5 408 467.80000000000007",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[Object(O.jsxs)("linearGradient",{id:"a",gradientUnits:"userSpaceOnUse",x2:"261.746",y1:"112.094",y2:"112.094",children:[Object(O.jsx)("stop",{offset:"0",stopColor:"#63be6b"}),Object(O.jsx)("stop",{offset:".506",stopColor:"#5bbc6a"}),Object(O.jsx)("stop",{offset:"1",stopColor:"#4ab96a"})]}),Object(O.jsxs)("linearGradient",{id:"b",gradientUnits:"userSpaceOnUse",x1:".152",x2:"179.896",y1:"223.393",y2:"223.393",children:[Object(O.jsx)("stop",{offset:"0",stopColor:"#3ec6f2"}),Object(O.jsx)("stop",{offset:"1",stopColor:"#45afe3"})]}),Object(O.jsxs)("linearGradient",{id:"c",gradientUnits:"userSpaceOnUse",x1:"179.896",x2:"407.976",y1:"229.464",y2:"229.464",children:[Object(O.jsx)("stop",{offset:"0",stopColor:"#faa51a"}),Object(O.jsx)("stop",{offset:".387",stopColor:"#fab716"}),Object(O.jsx)("stop",{offset:".741",stopColor:"#fac412"}),Object(O.jsx)("stop",{offset:"1",stopColor:"#fac80f"})]}),Object(O.jsxs)("linearGradient",{id:"d",gradientUnits:"userSpaceOnUse",x1:"1.744",x2:"272.296",y1:"345.521",y2:"345.521",children:[Object(O.jsx)("stop",{offset:"0",stopColor:"#ec3b50"}),Object(O.jsx)("stop",{offset:"1",stopColor:"#e7515b"})]}),Object(O.jsx)("path",{d:"M261.7 142.3L15 1.3C11.9-.5 8-.4 5 1.4c-3.1 1.8-5 5-5 8.6 0 0 .1 13 .2 34.4l179.7 179.7z",fill:"url(#a)"}),Object(O.jsx)("path",{d:"M.2 44.4C.5 121.6 1.4 309 1.8 402.3L180 224.1z",fill:"url(#b)"}),Object(O.jsx)("path",{d:"M402.9 223l-141.2-80.7-81.9 81.8 92.4 92.4L403 240.3c3.1-1.8 5-5.1 5-8.6 0-3.6-2-6.9-5.1-8.7z",fill:"url(#c)"}),Object(O.jsx)("path",{d:"M1.7 402.3c.2 33.3.3 54.6.3 54.6 0 3.6 1.9 6.9 5 8.6 3.1 1.8 6.9 1.8 10 0l255.3-148.9-92.4-92.4z",fill:"url(#d)"})]});default:return null}},r={amazon:{base:"https://www.amazon.com/s/ref=nb_ss_d?url=search-alias%3Ddvd&field-keywords=",name:"Amazon"},netflix:{base:"https://www.netflix.com/Search?lnkctr=srchrd-ips&v1=",name:"Netflix"},googleplay:{base:"https://play.google.com/store/search?c=movies&q=",name:"Google Play"}};return Object.keys(r).map((function(e){return Object(O.jsxs)("a",{className:e,href:r[e].base+t,target:"_blank",rel:"noopener noreferrer",title:"Search for "+t+" on "+r[e].name,children:[n(e)," ",r[e].name]},e)}))};var F=function(e){var t=e.icon,n=e.title,r=e.href,c=Object(m.f)(),s=Object(m.g)();return Object(O.jsx)("a",{onClick:function(e){var t;e.preventDefault(),!0===r||"/person/"===s.pathname.slice(0,8)&&"undefined"===typeof s.state||"/"===(null===(t=s.state)||void 0===t?void 0:t.from)?c.push("/grid/"):c.goBack()},title:n,className:"btn-icon fixed top-2 left-2",href:"/grid/",children:"arrow"===t?Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:Object(O.jsx)("path",{fillRule:"evenodd",d:"M10.78 19.03a.75.75 0 01-1.06 0l-6.25-6.25a.75.75 0 010-1.06l6.25-6.25a.75.75 0 111.06 1.06L5.81 11.5h14.44a.75.75 0 010 1.5H5.81l4.97 4.97a.75.75 0 010 1.06z"})}):Object(O.jsxs)("svg",{width:"24px",height:"24px",xmlns:"http://www.w3.org/2000/svg",children:[Object(O.jsx)("defs",{children:Object(O.jsx)("svg",{id:"square",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16",children:Object(O.jsx)("path",{fillRule:"evenodd",d:"M4 5.75C4 4.784 4.784 4 5.75 4h4.5c.966 0 1.75.784 1.75 1.75v4.5A1.75 1.75 0 0110.25 12h-4.5A1.75 1.75 0 014 10.25v-4.5zm1.75-.25a.25.25 0 00-.25.25v4.5c0 .138.112.25.25.25h4.5a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-4.5z"})})}),Object(O.jsx)("use",{transform:"translate(-0.5 -1)",href:"#square"}),Object(O.jsx)("use",{transform:"translate(9 -1)",href:"#square"}),Object(O.jsx)("use",{transform:"translate(-0.5 8.5)",href:"#square"}),Object(O.jsx)("use",{transform:"translate(9 8.5)",href:"#square"})]})})};var _=function(e){var t=e.href,n=e.title,r=e.action,c=e.classes,s=e.children,a=Object(i.b)(),l=Object(m.f)();return Object(O.jsx)("a",{className:c,href:t,title:n,onClick:function(e){e.preventDefault(),a(r),l.push(t)},children:s})};var G=function(e){var t=e.genres;return Object(O.jsxs)("li",{className:"col-span-2",children:[Object(O.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:[Object(O.jsx)("path",{d:"M7.75 6.5a1.25 1.25 0 100 2.5 1.25 1.25 0 000-2.5z"}),Object(O.jsx)("path",{fillRule:"evenodd",d:"M2.5 1A1.5 1.5 0 001 2.5v8.44c0 .397.158.779.44 1.06l10.25 10.25a1.5 1.5 0 002.12 0l8.44-8.44a1.5 1.5 0 000-2.12L12 1.44A1.5 1.5 0 0010.94 1H2.5zm0 1.5h8.44l10.25 10.25-8.44 8.44L2.5 10.94V2.5z"})]}),Object(O.jsx)("ul",{children:t.map((function(e){return Object(O.jsx)("li",{children:Object(O.jsx)(_,{href:"/grid/",title:"Browse movies with the genre "+e,action:{type:"filters/genres/add",payload:e.toLowerCase(),reset:!0},children:e})},e)}))})]})};var W=function(e){var t=e.persons,n=e.type,r="director"===n?n:"star";return Object(O.jsxs)("li",{className:"col-span-2",children:["director"===n?Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:Object(O.jsx)("path",{fillRule:"evenodd",d:"M24 5.25a.75.75 0 00-1.136-.643L16.5 8.425V6.25a1.75 1.75 0 00-1.75-1.75h-13A1.75 1.75 0 000 6.25v11C0 18.216.784 19 1.75 19h13a1.75 1.75 0 001.75-1.75v-2.175l6.364 3.818A.75.75 0 0024 18.25v-13zm-7.5 8.075l6 3.6V6.575l-6 3.6v3.15zM15 9.75v-3.5a.25.25 0 00-.25-.25h-13a.25.25 0 00-.25.25v11c0 .138.112.25.25.25h13a.25.25 0 00.25-.25v-7.5z"})}):Object(O.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:[Object(O.jsx)("path",{fillRule:"evenodd",d:"M3.5 8a5.5 5.5 0 118.596 4.547 9.005 9.005 0 015.9 8.18.75.75 0 01-1.5.045 7.5 7.5 0 00-14.993 0 .75.75 0 01-1.499-.044 9.005 9.005 0 015.9-8.181A5.494 5.494 0 013.5 8zM9 4a4 4 0 100 8 4 4 0 000-8z"}),Object(O.jsx)("path",{d:"M17.29 8c-.148 0-.292.01-.434.03a.75.75 0 11-.212-1.484 4.53 4.53 0 013.38 8.097 6.69 6.69 0 013.956 6.107.75.75 0 01-1.5 0 5.193 5.193 0 00-3.696-4.972l-.534-.16v-1.676l.41-.209A3.03 3.03 0 0017.29 8z"})]}),Object(O.jsx)("ul",{children:t.filter((function(e){return e.role===r})).map((function(e){return Object(O.jsx)("li",{children:Object(O.jsx)(x.b,{to:{pathname:"/person/"+e.id,state:{from:"person-links"}},title:"View more about this "+n+": "+e.name,children:e.name})},e.id)}))})]})};var U=function(e){var t=e.rating,n=e.duration,r=e.genres,c=e.persons;return Object(O.jsxs)("ul",{className:"details-list",children:[Object(O.jsxs)("li",{className:"col-start-1",children:[Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:Object(O.jsx)("path",{fillRule:"evenodd",d:"M4.75 2a.75.75 0 000 1.5h.75v2.982a4.75 4.75 0 002.215 4.017l2.044 1.29a.25.25 0 010 .422l-2.044 1.29A4.75 4.75 0 005.5 17.518V20.5h-.75a.75.75 0 000 1.5h14.5a.75.75 0 000-1.5h-.75v-2.982a4.75 4.75 0 00-2.215-4.017l-2.044-1.29a.25.25 0 010-.422l2.044-1.29A4.75 4.75 0 0018.5 6.482V3.5h.75a.75.75 0 000-1.5H4.75zM17 3.5H7v2.982A3.25 3.25 0 008.516 9.23l2.044 1.29a1.75 1.75 0 010 2.96l-2.044 1.29A3.25 3.25 0 007 17.518V20.5h10v-2.982a3.25 3.25 0 00-1.516-2.748l-2.044-1.29a1.75 1.75 0 010-2.96l2.044-1.29A3.25 3.25 0 0017 6.482V3.5z"})}),n]}),Object(O.jsxs)("li",{className:"col-start-2",children:[Object(O.jsxs)("svg",{className:"rating-star",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:[Object(O.jsx)("mask",{id:"rating",children:Object(O.jsx)("rect",{x:"0",y:"0",fill:"white",stroke:"none",height:"24",width:24*t/10})}),Object(O.jsx)("path",{mask:"url(#rating)",fillRule:"evenodd",d:"M12.672.668a.75.75 0 00-1.345 0L8.27 6.865l-6.838.994a.75.75 0 00-.416 1.279l4.948 4.823-1.168 6.811a.75.75 0 001.088.791L12 18.347l6.117 3.216a.75.75 0 001.088-.79l-1.168-6.812 4.948-4.823a.75.75 0 00-.416-1.28l-6.838-.993L12.672.668z"}),Object(O.jsx)("path",{fillRule:"evenodd",d:"M12 .25a.75.75 0 01.673.418l3.058 6.197 6.839.994a.75.75 0 01.415 1.279l-4.948 4.823 1.168 6.811a.75.75 0 01-1.088.791L12 18.347l-6.117 3.216a.75.75 0 01-1.088-.79l1.168-6.812-4.948-4.823a.75.75 0 01.416-1.28l6.838-.993L11.328.668A.75.75 0 0112 .25zm0 2.445L9.44 7.882a.75.75 0 01-.565.41l-5.725.832 4.143 4.038a.75.75 0 01.215.664l-.978 5.702 5.121-2.692a.75.75 0 01.698 0l5.12 2.692-.977-5.702a.75.75 0 01.215-.664l4.143-4.038-5.725-.831a.75.75 0 01-.565-.41L12 2.694z"})]}),t]}),Object(O.jsx)(G,{genres:r}),Object(O.jsx)(W,{persons:c,type:"director"}),Object(O.jsx)(W,{persons:c,type:"actor"})]})};var K=function(e){var t=e.persons;return Object(O.jsx)("ul",{className:"details-list",children:Object(O.jsxs)("li",{className:"col-span-2",children:[Object(O.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:[Object(O.jsx)("path",{fillRule:"evenodd",d:"M3.5 8a5.5 5.5 0 118.596 4.547 9.005 9.005 0 015.9 8.18.75.75 0 01-1.5.045 7.5 7.5 0 00-14.993 0 .75.75 0 01-1.499-.044 9.005 9.005 0 015.9-8.181A5.494 5.494 0 013.5 8zM9 4a4 4 0 100 8 4 4 0 000-8z"}),Object(O.jsx)("path",{d:"M17.29 8c-.148 0-.292.01-.434.03a.75.75 0 11-.212-1.484 4.53 4.53 0 013.38 8.097 6.69 6.69 0 013.956 6.107.75.75 0 01-1.5 0 5.193 5.193 0 00-3.696-4.972l-.534-.16v-1.676l.41-.209A3.03 3.03 0 0017.29 8z"})]}),Object(O.jsx)("ul",{children:t.map((function(e){return Object(O.jsx)("li",{children:Object(O.jsx)(x.b,{to:{pathname:"/person/"+e.name,state:{from:"person-links"}},title:"View more about "+e.name,children:e.name})},e.name)}))})]})})};n(28);var q=function(){var e=Object(m.h)().id,t=Object(i.b)(),n=Object(m.f)(),c=Object(i.c)((function(e){return e.movies.results})),s=Object(i.c)((function(t){return t.movies.results.find((function(t){return t.id===e}))})),a=Object(i.c)((function(e){return e.movies.body})),l=Object(r.useState)(!0),u=Object(w.a)(l,2),d=u[0],j=u[1],b=Object(r.useState)(!1),h=Object(w.a)(b,2),f=h[0],p=h[1],x=Object(r.useState)("unset"),v=Object(w.a)(x,2),g=v[0],C=v[1],z=Object(r.useState)("unset"),M=Object(w.a)(z,2),L=M[0],S=M[1],R=Object(r.useState)(!1),B=Object(w.a)(R,2),A=B[0],V=B[1],D=Object(r.useState)({}),E=Object(w.a)(D,2),I=E[0],_=E[1],G=Object(r.useState)(0),W=Object(w.a)(G,2),q=W[0],J=W[1],Y=Object(r.useRef)(null),Q=function(){var e=Object(k.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/imdb/movies",{method:"POST",body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(k.a)(y.a.mark((function e(){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=2;break}return e.abrupt("return",null);case 2:if(!A){e.next=4;break}return e.abrupt("return",null);case 4:if(n=c.length+1,a.start!==n){e.next=7;break}return e.abrupt("return",null);case 7:return a.start=n,V((function(e){return!0})),e.next=11,Q(a);case 11:if(r=e.sent,t({type:"movies/setBody",payload:a}),t({type:"movies/nextPage",payload:r}),V((function(e){return!1})),!(r.length>0)){e.next=17;break}return e.abrupt("return",r[0].id);case 17:return e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(e){if(!d)return null;e&&e.preventDefault();var t=c[q-1];"undefined"===typeof t&&(t=c[c.length-1]),n.replace("/grid/"),n.push("/movie/"+t.id)},$=function(){var e=Object(k.a)(y.a.mark((function e(t){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.preventDefault(),"undefined"!==typeof(r=c[q+1])){e.next=14;break}return e.next=5,X();case 5:if(!1!==(r=e.sent)){e.next=10;break}r=0,e.next=12;break;case 10:if(null!==r){e.next=12;break}return e.abrupt("return");case 12:e.next=15;break;case 14:r=r.id;case 15:n.replace("/grid/"),n.push("/movie/"+r);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){f||Y.current.focus()})),Object(r.useEffect)((function(){if(I.enriched||"unset"!==L||"undefined"===typeof I.title)return null;Object(k.a)(y.a.mark((function e(){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S((function(e){return"loading"})),e.next=3,fetch("/imdb/enrich/"+I.id);case 3:return n=e.sent,e.next=6,n.json();case 6:(n=e.sent).error?S((function(e){return"error"})):(I.enriched=n,I.incomplete||t({type:"movies/update",payload:{id:I.id,property:"enriched",value:n}}),S((function(e){return"ready"})),_((function(e){return Object(o.a)({},I)})));case 8:case"end":return e.stop()}}),e)})))()}),[I,t,L]),Object(r.useEffect)((function(){if(I.trailer||"unset"!==g||"undefined"===typeof I.title)return null;Object(k.a)(y.a.mark((function e(){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C((function(e){return"loading"})),e.next=3,fetch("/imdb/trailer/"+I.title+"/"+I.year+"/"+I.id);case 3:return n=e.sent,e.next=6,n.json();case 6:(n=e.sent).error?C((function(e){return"error"})):(I.trailer=n,I.incomplete||t({type:"movies/update",payload:{id:I.id,property:"trailer",value:n}}),C((function(e){return"ready"})),_((function(e){return Object(o.a)({},I)})));case 8:case"end":return e.stop()}}),e)})))()}),[I,t,g]),Object(r.useEffect)((function(){document.title!=="Movie Picker | "+I.title&&"undefined"!==typeof I.title&&(document.title="Movie Picker | "+I.title)}),[I]),Object(r.useEffect)((function(){"random"===e?Object(k.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/imdb/randomMovie");case 2:return t=e.sent,e.next=5,t.json();case 5:t=e.sent,_((function(e){return t[0]})),j((function(e){return!1}));case 8:case"end":return e.stop()}}),e)})))():"undefined"===typeof s?Object(k.a)(y.a.mark((function t(){var r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/imdb/movie/id/"+e);case 2:return r=t.sent,t.next=5,r.json();case 5:(r=t.sent).error&&n.push("/404"),r.incomplete=!0,_((function(e){return r}));case 9:case"end":return t.stop()}}),t)})))():(_((function(e){return Object(o.a)({},s)})),J((function(t){return c.findIndex((function(t){return t.id===e}))})))}),[e,s,c,n]),Object(r.useEffect)((function(){S((function(e){return"unset"})),C((function(e){return"unset"})),window.scrollTo(0,0)}),[e]),0===Object.keys(I).length?Object(O.jsx)("section",{ref:Y,children:Object(O.jsx)(F,{title:"Go back to grid view"})}):Object(O.jsxs)("section",{onKeyDown:function(e){switch(e.key){case"ArrowLeft":e.preventDefault(),Z();break;case"ArrowRight":e.preventDefault(),$();break;case" ":e.preventDefault(),p((function(e){return!0}));break;default:return null}},ref:Y,tabIndex:"1",className:"item-view",children:[Object(O.jsx)(F,{title:"Go back to grid view",href:I.incomplete}),Object(O.jsxs)("header",{children:[Object(O.jsx)("h1",{children:I.title}),Object(O.jsx)("h2",{children:I.year})]}),Object(O.jsxs)("article",{children:[Object(O.jsx)("figure",{children:Object(O.jsx)(N,{classes:"mx-auto",vw:Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),size:"big",cover:I.cover,title:I.title})}),Object(O.jsx)("p",{children:!I.incomplete&&I.abstract}),I.incomplete?Object(O.jsx)(K,{persons:I.roles}):Object(O.jsx)(U,{rating:I.rating,duration:I.duration,genres:I.genres,persons:I.roles}),Object(O.jsxs)("section",{className:"links",children:[I.trailer&&Object(O.jsx)("div",{className:"w-full flex-grow flex justify-around mb-1",children:Object(O.jsxs)("button",{title:"Play trailer",onClick:function(){return p((function(e){return!0}))},className:"w-2/3 inline-flex justify-center",children:[Object(O.jsxs)("svg",{className:"fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:[Object(O.jsx)("path",{fillRule:"evenodd",d:"M1.75 4.5a.25.25 0 00-.25.25v14.5c0 .138.112.25.25.25h20.5a.25.25 0 00.25-.25V4.75a.25.25 0 00-.25-.25H1.75zM0 4.75C0 3.784.784 3 1.75 3h20.5c.966 0 1.75.784 1.75 1.75v14.5A1.75 1.75 0 0122.25 21H1.75A1.75 1.75 0 010 19.25V4.75z"}),Object(O.jsx)("path",{d:"M9 15.584V8.416a.5.5 0 01.77-.42l5.576 3.583a.5.5 0 010 .842L9.77 16.005a.5.5 0 01-.77-.42z"})]}),"Play trailer"]})}),Object(O.jsx)(P,{enrichedData:I.enriched,title:I.title}),Object(O.jsx)(T,{title:I.title})]})]}),!I.incomplete&&d&&Object(O.jsx)("a",{title:"View previous movie",onClick:Z,className:"btn-icon fixed bottom-2 right-15",href:"/movie/"+q,children:Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:Object(O.jsx)("path",{fillRule:"evenodd",d:"M10.78 19.03a.75.75 0 01-1.06 0l-6.25-6.25a.75.75 0 010-1.06l6.25-6.25a.75.75 0 111.06 1.06L5.81 11.5h14.44a.75.75 0 010 1.5H5.81l4.97 4.97a.75.75 0 010 1.06z"})})}),!I.incomplete&&d&&Object(O.jsx)("a",{title:"View next movie",onClick:$,className:"btn-icon fixed bottom-2 right-2",href:"/movie/"+q,children:Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:Object(O.jsx)("path",{fillRule:"evenodd",d:"M13.22 19.03a.75.75 0 001.06 0l6.25-6.25a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 10-1.06 1.06l4.97 4.97H3.75a.75.75 0 000 1.5h14.44l-4.97 4.97a.75.75 0 000 1.06z"})})}),Object(O.jsx)(H,{classes:f?"":"hidden ",trailer:I.trailer,title:I.title,handleChange:function(){return p((function(e){return!1}))}})]})};var J=function(){var e=Object(m.h)().id,t=Object(m.f)(),n=Object(r.useState)({}),c=Object(w.a)(n,2),s=c[0],a=c[1],i=Object(r.useState)(!1),l=Object(w.a)(i,2),u=l[0],d=l[1];return Object(r.useEffect)((function(){document.title!=="Movie Picker | "+s.name&&"undefined"!==typeof s.name&&(document.title="Movie Picker | "+s.name),!s.enriched&&s.id&&Object(k.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/imdb/enrich/"+s.id);case 2:return t=e.sent,e.next=5,t.json();case 5:(t=e.sent).error||(s.enriched=t,a((function(e){return Object(o.a)({},s)})));case 7:case"end":return e.stop()}}),e)})))()}),[s]),Object(r.useEffect)((function(){d((function(e){return!1})),Object(k.a)(y.a.mark((function n(){var r;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/imdb/person/"+e);case 2:return r=n.sent,n.next=5,r.json();case 5:(r=n.sent).error&&t.push("/404"),a((function(e){return Object(o.a)({},r)}));case 8:case"end":return n.stop()}}),n)})))(),window.scrollTo(0,0)}),[e,t]),0===Object.keys(s).length?Object(O.jsx)("section",{children:Object(O.jsx)(F,{title:"Go back to movie view",icon:"arrow"})}):Object(O.jsxs)("section",{className:"item-view person",children:[Object(O.jsx)(F,{title:"Go back to movie view",icon:"arrow"}),Object(O.jsx)("header",{children:Object(O.jsx)("h1",{children:s.name})}),Object(O.jsxs)("article",{className:"mt-9",children:[Object(O.jsx)("figure",{children:Object(O.jsx)(N,{classes:"mx-auto",vw:Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),size:"big",type:"person",cover:s.picture,title:s.name})}),Object(O.jsxs)("p",{children:[u?s.bio:function(e,t){var n=(e=e.split(" ")).findIndex((function(e,n){return e.includes(".")&&n>=t}));return e.slice(0,n+1).join(" ")}(s.bio,100),Object(O.jsxs)("button",{className:"ml-auto rounded-lg border-2 border-solid bg-black m-2 block text-center border-yellow-50 hover:bg-yellow-50 hover:text-black active:bg-red-700 active:border-red-900 active:text-red-50 px-3 py-2",onClick:function(){d((function(e){return!e}))},children:["Read ",u?"less":"more"]})]}),Object(O.jsxs)("section",{className:"links",children:[Object(O.jsx)("div",{className:"w-full flex-grow flex justify-around mb-1",children:Object(O.jsxs)(_,{href:"/grid/",title:"Browse filmography: "+s.name,action:{type:"filters/persons/p0",payload:{id:s.id,name:s.name},reset:!0},children:[Object(O.jsx)("svg",{className:"fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:Object(O.jsx)("path",{fillRule:"evenodd",d:"M24 5.25a.75.75 0 00-1.136-.643L16.5 8.425V6.25a1.75 1.75 0 00-1.75-1.75h-13A1.75 1.75 0 000 6.25v11C0 18.216.784 19 1.75 19h13a1.75 1.75 0 001.75-1.75v-2.175l6.364 3.818A.75.75 0 0024 18.25v-13zm-7.5 8.075l6 3.6V6.575l-6 3.6v3.15zM15 9.75v-3.5a.25.25 0 00-.25-.25h-13a.25.25 0 00-.25.25v11c0 .138.112.25.25.25h13a.25.25 0 00.25-.25v-7.5z"})}),"Filmography"]})}),Object(O.jsx)(P,{enrichedData:s.enriched,title:s.name}),Object(O.jsx)(T,{title:s.name})]})]})]})},Y=n(31);var Q=function(){var e=Object(i.b)(),t=Object(r.useRef)(null),n=Object(r.useState)([]),c=Object(w.a)(n,2),s=c[0],a=c[1],l=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0);return Object(r.useEffect)((function(){Object(k.a)(y.a.mark((function t(){var n,r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={count:75,start:Math.round(820*Math.random()),award:"oscar_winner"},t.next=3,fetch("/imdb/movies",{method:"POST",body:JSON.stringify(n)});case 3:return r=t.sent,t.next=6,r.json();case 6:r=t.sent,console.log(r),e({type:"movies/nextPage",payload:r}),a((function(e){return r}));case 10:case"end":return t.stop()}}),t)})))()}),[e]),Object(O.jsxs)("section",{ref:t,className:"err-404",children:[Object(O.jsx)("h1",{children:"404"}),Object(O.jsx)("div",{id:"covers",children:function(){try{var e,n=t.current.getBoundingClientRect().height,r=-100,c=-160,a=[],i=Object(Y.a)(s);try{for(i.s();!(e=i.n()).done;){var o=e.value,u=r+150*Math.random(),d=c+220*Math.random();a.push({id:o.id,cover:o.cover.medium,title:o.title,style:{position:"absolute",left:u+"px",top:d+"px","--angle":Math.round(90*Math.random())-45+"deg"}}),(r+=133)>l&&(c+=213,r=-100),c>n&&(c=-160)}}catch(j){i.e(j)}finally{i.f()}return a.map((function(e){return Object(O.jsx)(x.b,{style:e.style,to:{pathname:"/movie/"+e.id,state:{from:"/"}},title:e.title,children:Object(O.jsx)("img",{src:e.cover,alt:"poster for the movie '"+e.title+"'"})})}))}catch(b){return null}}()})]})};var X=function(){return Object(O.jsxs)(x.a,{children:[Object(O.jsxs)(m.c,{children:[Object(O.jsx)(m.a,{path:"/movie/:id",children:Object(O.jsx)(q,{})}),Object(O.jsx)(m.a,{path:"/person/:id",children:Object(O.jsx)(J,{})}),Object(O.jsx)(m.a,{path:"/404",children:Object(O.jsx)(Q,{})}),Object(O.jsxs)(m.a,{path:"/:home?",children:[Object(O.jsx)(z,{}),Object(O.jsx)(I,{})]})]}),Object(O.jsx)(v,{})]})};a.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(i.a,{store:p,children:Object(O.jsx)(X,{})})}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.265e61c8.chunk.js.map